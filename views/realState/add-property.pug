extends  ../layout/index
//- inicia aquí maps 
block styles
    link(rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css")

//- fin maps
block contenido
    div#login.p-10
        h1.text-4xl.my-5.font-extrabold.text-center Bienes
            span.font-normal Raices
        h2(class="text-center text-2xl font-bold") Crear propiedad
    div(class="bg-white shadow py-8 px-4 rounded mx-auto max-w-2xl p-4")
        form(class="flex flex-col")
            div(class="mb-6")
                h3(class="text-lg font-semibold") Informacion general
                p(class="text-sm text-gray-500") Añade información sobre la propiedad que quieres vender
            div(class="my-3")
                label(class="block text-gray-700 text-sm font-bold mb-2" for="title") Titulo del anuncio
                input(class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="title" name="title" type="text" placeholder="casa frente a la playa")
            div
                label(class="block text-gray-700 text-sm font-bold mb-2" for="description") Descripción de la propiedad
                textarea(class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="description" name="description" placeholder="casa frente a la playa")
            div(class="md:flex md:gap-4")   
                div(class="my-3 w-full md:w-1/2")
                    label(class="block text-gray-700 text-sm font-bold mb-2" for="category") Categoria
                    select(class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="category" name="category")
                        each category in categories
                            option(value=category._id)= category.name
                div(class="my-3 w-full md:w-1/2")
                    label(class="block text-gray-700 text-sm font-bold mb-2" for="price") Precio
                    select(class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="price" name="price")
                        each price in prices
                            option(value=price)= price.name
            div(class="md:flex md:gap-4")   
                div(class="my-3 w-full md:w-1/2")
                    label(class="block text-gray-700 text-sm font-bold mb-2" for="roomsNumber") Habitaciones
                    select(class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="roomsNumber" name="roomsNumber")
                        option(value="-") seleccione
                        //- javascript dentro de pug
                        - let counter = 1;
                            while counter <= 10
                                option(value=counter) #{counter}
                                - counter++;
                div(class="my-3 w-full md:w-1/2")
                    label(class="block text-gray-700 text-sm font-bold mb-2" for="parking") Estacionamientos
                    select(class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="parking" name="parking")
                        option(value="-") seleccione
                        //- javascript dentro de pug
                        - let parking = 1;
                            while parking <= 10
                                option(value=parking) #{parking}
                                - parking++;
                div(class="my-3 w-full md:w-1/2")
                    label(class="block text-gray-700 text-sm font-bold mb-2" for="bathrooms") Baños
                    select(class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="bathrooms" name="bathrooms")
                        option(value="-") seleccione
                        //- javascript dentro de pug
                        - let bathrooms = 1;
                            while bathrooms <= 10
                                option(value=bathrooms) #{bathrooms}
                                - bathrooms++;
        div(class="border-gray-200 flex flex-col mb-6 gap-2")    
            h3(class="text-lg font-semibold") Ubicación de la propiedad
            p(class="text-sm text-gray-500") Ubica la propiedad en el mapa
            div(id="mapa" class="h-96")
            div 
                p(id="street")
            input(type="hidden" id="street" name="street")
            input(type="hidden" id="lat" name="lat")
            input(type="hidden" id="lng" name="lng")

block scripts 
    //- alternativo a google maps = leaflet
    script(src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js")
    //- información de las calles: https://leaflet-extras.github.io/leaflet-providers/preview/
    script(src="https://unpkg.com/esri-leaflet@3.0.8/dist/esri-leaflet.js")
    script(src="https://unpkg.com/esri-leaflet-geocoder@2.2.13/dist/esri-leaflet-geocoder.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-geosearch/2.7.0/bundle.min.js")
    //- mapa compilado por webpack
    script(src="/js/mapa.js")